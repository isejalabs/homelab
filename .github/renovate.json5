{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: [
    ":disableRateLimiting",
    "config:best-practices",
    "github>isejalabs/homelab//.github/renovate/labels.json5",
    "github>isejalabs/homelab//.github/renovate/organize-semantic-scope.json5",
    "github>isejalabs/homelab//.github/renovate/pin-versions.json5",
    "github>isejalabs/homelab//.github/renovate/version-scheme.json5",
  ],
  assignees: ["sebiklamar"],
  ignorePaths: ["_attic/**"],
  terragrunt: {
    versioning: "regex:^((?<compatibility>.*)-v|v*)(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
  },
  additionalBranchPrefix: "{{packageFileDir}}/",
  prBodyColumns: ["Package", "Package file", "Update", "Change"],
  kubernetes: {
    managerFilePatterns: ["/(^|/)k8s/.+\\.yaml$/"],
  },
  customManagers: [
    {
      customType: "regex",
      managerFilePatterns: [
        "/\\.hcl$/",
        "/\\.tf$/",
        "/\\.tftpl$/",
        "/\\.yaml$/",
        "/\\.sh$/",
      ],
      matchStrings: [
        "(?<currentValue>[\\w+\\.\\-]*)['\",;]*\\s*#\\s?renovate: (?<datasource>\\S+)=(?<depName>\\S+)\\s?(registry=(?<registryUrl>\\S+))?\\s?(versioning=(?<versioning>\\S+))?",
      ],
    },
    {
      customType: "regex",
      managerFilePatterns: ["/(^|/)kustomization\\.ya?ml$/"],
      matchStrings: [
        "https://github\\.com/(?<depName>.*/.*?)/releases/download/(?<currentValue>.*?)/",
      ],
      datasourceTemplate: "github-releases",
    },
    {
      customType: "regex",
      managerFilePatterns: ["/(^|/)kustomization\\.ya?ml$/"],
      matchStrings: [
        "https://raw\\.githubusercontent\\.com/(?<depName>[^/]*/[^/]*)/(?<currentValue>.*?)/",
      ],
      datasourceTemplate: "github-tags",
    },
  ],
}

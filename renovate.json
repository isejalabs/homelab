{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:best-practices", ":disableRateLimiting"],
  "assignees": ["sebiklamar"],
  "ignorePaths": ["_attic/**"],
  "terragrunt": {
    "versioning": "regex:^((?<compatibility>.*)-v|v*)(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$"
  },
  "additionalBranchPrefix": "{{packageFileDir}}/",
  "prBodyColumns": ["Package", "Package file", "Update", "Change"],
  "kustomize": {
    "managerFilePatterns": ["/(^|/)kustomization\\.ya?ml(\\.j2)?$/"]
  },
  "kubernetes": {
    "managerFilePatterns": ["/(^|/)k8s/.+\\.yaml$/"]
  },
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/\\.hcl$/",
        "/\\.tf$/",
        "/\\.tftpl$/",
        "/\\.yaml$/",
        "/\\.sh$/"
      ],
      "matchStrings": [
        "(?<currentValue>[\\w+\\.\\-]*)['\",;]*\\s*#\\s?renovate: (?<datasource>\\S+)=(?<depName>\\S+)\\s?(registry=(?<registryUrl>\\S+))?\\s?(versioning=(?<versioning>\\S+))?"
      ]
    }
  ],
  "regexManagers": [
    {
      "fileMatch": "kustomization.yaml",
      "matchStrings": [
        "https://github.com/(?<depName>.*/.*?)/releases/download/(?<currentValue>.*?)/"
      ],
      "datasourceTemplate": "github-releases"
    },
    {
      "fileMatch": "kustomization.yaml",
      "matchStrings": [
        "https://raw.githubusercontent.com/(?<depName>[^/]*/[^/]*)/(?<currentValue>.*?)/"
      ],
      "datasourceTemplate": "github-tags"
    }
  ]
}
